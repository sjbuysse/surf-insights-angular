<div class="popup" id="popup" [ngClass]="showPopup ? 'popup--open' : '' " *ngIf="activeSurfspot" >
  <div class="popup__toggle popup__toggle-up" (click)="togglePopup()">Pop Up!</div>
  <div class="popup__toggle popup__toggle-down" (click)="togglePopup()">Pop Down!</div>
  <div class="info-wrapper">
    <div class="popup__info info" id="info-wrapper">
      <button class="info__edit-btn" (click)="setEditing(true)"></button>
      <label class="info__name" *ngIf="!activeSurfspot.editing" (dblclick)="setEditing(true)">{{activeSurfspot.name }}</label>
      <input class="info__name--edit" *ngIf="activeSurfspot.editing" [(ngModel)]="surfspotFormValues.name"
        (keyup.enter)="update()" (keyup.escape)="cancelEditing()" />
      <label class="info__latlng">lat: <span >{{activeSurfspot.latlng.lat}}</span></label>
      <label class="info__latlng">lng: <span >{{activeSurfspot.latlng.lng}}</span> </label>
      <p class="info__details" *ngIf="!activeSurfspot.editing" (dblclick)="setEditing(true)">{{activeSurfspot.info}}</p>
      <textarea class='info__details--edit' *ngIf="activeSurfspot.editing" [(ngModel)]="surfspotFormValues.info"
      (keyup.enter)="update()" (keyup.escape)="cancelEditing()"></textarea>
      <si-image-gallery></si-image-gallery>
      <si-image-gallery
        (onSetEditing)="setEditing($event)"
        (onCancelEditing)="cancelEditing()"
        (onUpdate)="update($event)"
        (onDeleteImage)="deleteImage($event)"
        [activeSurfspotImageList]="activeSurfspotImageList"
        [activeSurfspot]="activeSurfspot"
        [imageListFormValues]="imageListFormValues"
        [surfspotFormValues]="surfspotFormValues"></si-image-gallery>
      <button class="info__update-btn">
        Update
      </button>
      <button class="info__cancel-btn">
        Cancel
      </button>
    </div>
  </div>
</div>
<!--<div class="popup" id="popup" data-bind="with: selectedPlace, css:{'popup&#45;&#45;open': $root.showLargeInfoWindow()}">-->
  <!--<div class="popup__toggle popup__toggle-up" data-bind="click: $root.toggleShowLargeInfoWindow">Pop Up!</div>-->
  <!--<div class="popup__toggle popup__toggle-down" data-bind="click: $root.toggleShowLargeInfoWindow">Pop Down!</div>-->
  <!--<div class="info-wrapper">-->
    <!--<div class="popup__info info" id="info-wrapper">-->
      <!--<button class="info__edit-btn" data-bind="visible: !editing(), click: setEditing"></button>-->
      <!--<label class="info__name" data-bind='text: name, visible: !editing(),event: { dblclick: setEditing }, doubleTap: setEditing'>info__name</label>-->
      <!--<input class='info__name&#45;&#45;edit' data-bind="value: name, visible: editing,  valueUpdate: 'afterkeydown', enterKey: saveEditing, escapeKey: undoEditing"></input>-->
      <!--<label class="info__latlng">lat: <span data-bind='text: latlng().lat'></span></label>-->
      <!--<label class="info__latlng">lng: <span data-bind='text: latlng().lng'></span> </label>-->
      <!--<p class="info__details" data-bind='text: info, visible: !editing(),event: { dblclick: setEditing }, doubleTap: setEditing'></p>-->
      <!--<textarea class='info__details&#45;&#45;edit' data-bind="value: info, visible: editing,  valueUpdate: 'afterkeydown', escapeKey: undoEditing"></textarea>-->
      <!--<div class="info__images images" id="image-wrapper">-->
        <!--<h3 data-bind="visible: (images().length > 0)">Images</h3>-->
        <!--<div class="line-break"></div>-->
        <!--&lt;!&ndash; ko foreach: images &ndash;&gt;-->
        <!--<div class="images__image image">-->
          <!--<img data-bind='attr: {src: url}, click: $root.openImgModal' class="image__pic"/>-->
          <!--<p class="image__caption" data-bind='text: caption, -->
                            <!--visible: !($parent.editing()), event: { dblclick: $parent.setEditing.bind($parent) }, -->
                            <!--doubleTap: $parent.setEditing.bind($parent)'></p>-->
          <!--<input class='image__caption&#45;&#45;edit' data-bind="value: caption, visible: $parent.editing,  valueUpdate: 'afterkeydown', enterKey: $parent.saveEditing.bind($parent), escapeKey: $parent.undoEditing.bind($parent)"></input>-->
          <!--<button class="image__destroy-btn" data-bind="visible: !($parent.editing()), -->
                                <!--confirmClick: {message: 'Are you sure you want to delete this image?', -->
                                <!--click: $root.removeImage.bind($root, $parent, $data)}"></button>-->
        <!--</div>-->
        <!--&lt;!&ndash; /ko &ndash;&gt;-->
      <!--</div>-->
      <!--<div data-bind="visible: !editing()" class="info__upload-image upload-image">-->
        <!--<h3>Add Image</h3>-->
        <!--<div class="line-break"></div>-->
        <!--<div class="upload-image__progress hidden" id="progress-wrapper">-->
          <!--<div class="upload-image__progress__bar" id="progress-bar">-->
            <!--<span class="upload-image__progress__caption" id="progress-caption"></span>-->
          <!--</div>-->
        <!--</div>-->
        <!--<div class="line-break"></div>-->
        <!--<img src="" id="previewImg" class="upload-image__image">-->
        <!--<textarea name="caption" id="image-caption" placeholder="Write some infomation about this image" class="upload-image__caption hidden"></textarea>-->
        <!--<div class="line-break"></div>-->
        <!--<input type="file" name="imageFile" id="imageFile" class="upload-image__input"-->
               <!--accepts="image/jpeg, image/jpg, image/png, image/bmp" data-bind="visible: $root.supportFileAPI, event: {change: $root.handleImageSelect.bind($root)}" />-->
        <!--<label for="imageFile" data-bind="visible: $root.supportFileAPI" class="upload-image__select-btn">Select image</label>-->
        <!--<div class="line-break"></div>-->
        <!--<button id="images-upload-btn" class="upload-image__upload-btn hidden" data-bind="click: $root.uploadImage.bind($root)">Submit</button>-->
      <!--</div>-->
      <!--<button data-bind='click: saveEditing, visible: (editing())' class="info__update-btn">-->
        <!--Update-->
      <!--</button>-->
      <!--<button data-bind='click: undoEditing, visible: (editing())' class="info__cancel-btn">-->
        <!--Cancel-->
      <!--</button>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->

