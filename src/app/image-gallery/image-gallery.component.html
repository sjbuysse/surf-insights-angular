<div class="info__images images" id="image-wrapper">
  <h3 *ngIf="(activeSurfspotImageList | async)?.length > 0">Images</h3>
  <div class="line-break"></div>
  <div class="images__image image" *ngFor="let image of (activeSurfspotImageList | async); let i = index ">
    <img class="image__pic" [src]="image.url"/>
    <p class="image__caption" *ngIf="!activeSurfspot.editing" (dblclick)="setEditing(true)">{{image.caption}}</p>
    <input class='image__caption--edit' *ngIf="activeSurfspot.editing" [(ngModel)]="imageListFormValues[i].caption"
           (keyup.enter)="update()" (keyup.escape)="cancelEditing()"/>
    <button class="image__destroy-btn" (click)="deleteImage(image)" ></button>
  </div>
</div>
<div class="info__upload-image upload-image" *ngIf="!activeSurfspot.editing">
  <h3>Add Image</h3>
  <div class="line-break"></div>
  <div class="upload-image__progress hidden" id="progress-wrapper">
    <div class="upload-image__progress__bar" id="progress-bar">
      <span class="upload-image__progress__caption" id="progress-caption"></span>
    </div>
  </div>
  <div class="line-break"></div>
  <img *ngIf="imagePreview" [src]="imagePreview" id="previewImg" class="upload-image__image">
  <textarea *ngIf="imagePreview" name="caption" id="image-caption" placeholder="Write some infomation about this image" class="upload-image__caption hidden"></textarea>
  <div class="line-break"></div>
  <input type="file" name="imageFile" id="imageFile" class="upload-image__input"
         accepts="image/jpeg, image/jpg, image/png, image/bmp"  *ngIf="supportFileAPI()" (change)="handleImageSelection($event)"/>
  <label for="imageFile" class="upload-image__select-btn" *ngIf="supportFileAPI()">Select image</label>
  <div class="line-break"></div>
  <button *ngIf="imagePreview" id="images-upload-btn" class="upload-image__upload-btn hidden" >Submit</button>
</div>
<!--<div class="info__images images" id="image-wrapper">-->
<!--<h3 data-bind="visible: (images().length > 0)">Images</h3>-->
<!--<div class="line-break"></div>-->
<!--&lt;!&ndash; ko foreach: images &ndash;&gt;-->
<!--<div class="images__image image">-->
<!--<img data-bind='attr: {src: url}, click: $root.openImgModal' class="image__pic"/>-->
<!--<p class="image__caption" data-bind='text: caption, -->
<!--visible: !($parent.editing()), event: { dblclick: $parent.setEditing.bind($parent) }, -->
<!--doubleTap: $parent.setEditing.bind($parent)'></p>-->
<!--<input class='image__caption&#45;&#45;edit' data-bind="value: caption, visible: $parent.editing,  valueUpdate: 'afterkeydown', enterKey: $parent.saveEditing.bind($parent), escapeKey: $parent.undoEditing.bind($parent)"></input>-->
<!--<button class="image__destroy-btn" data-bind="visible: !($parent.editing()), -->
<!--confirmClick: {message: 'Are you sure you want to delete this image?', -->
<!--click: $root.removeImage.bind($root, $parent, $data)}"></button>-->
<!--</div>-->
<!--&lt;!&ndash; /ko &ndash;&gt;-->
<!--</div>-->
<!--<div data-bind="visible: !editing()" class="info__upload-image upload-image">-->
<!--<h3>Add Image</h3>-->
<!--<div class="line-break"></div>-->
<!--<div class="upload-image__progress hidden" id="progress-wrapper">-->
<!--<div class="upload-image__progress__bar" id="progress-bar">-->
<!--<span class="upload-image__progress__caption" id="progress-caption"></span>-->
<!--</div>-->
<!--</div>-->
<!--<div class="line-break"></div>-->
<!--<img src="" id="previewImg" class="upload-image__image">-->
<!--<textarea name="caption" id="image-caption" placeholder="Write some infomation about this image" class="upload-image__caption hidden"></textarea>-->
<!--<div class="line-break"></div>-->
<!--<input type="file" name="imageFile" id="imageFile" class="upload-image__input"-->
<!--accepts="image/jpeg, image/jpg, image/png, image/bmp" data-bind="visible: $root.supportFileAPI, event: {change: $root.handleImageSelect.bind($root)}" />-->
<!--<label for="imageFile" data-bind="visible: $root.supportFileAPI" class="upload-image__select-btn">Select image</label>-->
<!--<div class="line-break"></div>-->
<!--<button id="images-upload-btn" class="upload-image__upload-btn hidden" data-bind="click: $root.uploadImage.bind($root)">Submit</button>-->
<!--</div>-->
